<!DOCTYPE html>
<html ng-app="PlantaAPP" >
    <head>
        <title>Protocolo de Pruebas de Ensamble</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="js/libs/twitter-bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="js/libs/twitter-bootstrap/css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
        <script src="js/libs/angular.js/angular.js" type="text/javascript"></script>
        <script src="js/libs/angular-directives-d3/angularjs-nvd3-directives.min.js" type="text/javascript"></script>
        <script src="js/libs/n3-linecharts/line-chart.min.js" type="text/javascript"></script>
        <script src="js/libs/angular.js/angular-resource.js" type="text/javascript"></script>
        <script src="js/app/app.js" type="text/javascript"></script>
        
        <script src="https://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script>
        <script>
            $(function () {
                var button = document.getElementsByClassName("cls1")[0];
                button.addEventListener("click", function () {
                    var url = 'http://10.82.10.105:50000/api/Planta/SPControl/';
                    $.ajax(url, {
                        contentType: 'application/json',
                        success: function () {
                            alert(":) OK");
                        }, error: function (xhr) {
                            alert('Error! :(  Status = ' + xhr.status + " Message = " + xhr.statusText);
                        }
                    });
                });
            });
        </script>

    </head>
    <body ng-controller="EnsambleController">
        <div class="container">    
            <form class="form-horizontal" role="form" name="formPlanta" ng-submit="submit()">
                <div class="row">
                    <div class="col-md-8">                    
                        <div>
                            <img src="img/Logo Selmec.png" class="img-thumbnail" width="200" alt=""/>
                        </div>
                        <div>
                            <h3>Puesta en Operación de plantas de Emergencia  - Ensamble</h3>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="row">
                            <div class="col-md-12">                            
                                <div class="row">                                
                                    <label class="col-md-4">Label</label>
                                    <label class="col-md-8">Folio</label>                               
                                </div>
                                <div class="row">                                
                                    <label class="col-md-4">Fecha</label>
                                    <label class="col-md-8">Fecha</label>                               
                                </div>
                                <div class="row">                                
                                    <label class="col-md-4">Hora</label>
                                    <label class="col-md-8">Hora</label>                               
                                </div>
                            </div>   
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <fieldset>
                            <legend class="h3">
                                Datos Generales de la Planta de Emergencia                                                        
                            </legend>
                            <div class="row">
                                <div class="col-md-4">
                                    <h3>Planta de Emergencia</h3>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Modelo:                                       
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" required ng-model="planta.modelo" name="modelo">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            No. Serie:                                       
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" required ng-model="planta.noSerie" name="serie">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            No. Op                                       
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" required ng-model="planta.noOp" name="produccion">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <h3>Motor</h3>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Motores:
                                        </label>
                                        <div class="col-md-8">
                                            <select name="motor" ng-options="m.modelo as  m.modelo group by m.marca for m in motores" ng-model="planta.motores.modelo" required class="form-control" ></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-4 control-label">
                                            Marca:                                        
                                        </label>                                        
                                        <label class="control-label col-md-8">{{ SelectedMotor().marca}}</label>                                        
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-4 control-label">
                                            Modelo:                                        
                                        </label>                                        
                                        <label class="control-label col-md-8">{{ SelectedMotor().modelo}}</label>                                        
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            No. Serie                                        
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" required ng-model="planta.motorSerie" name="serieMotor">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <h3>Generador</h3>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Marca:                                        
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" required name="generador_marca">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Modelo:                                        
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" required name="generador_modelo">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            No. Serie                                        
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" required name="generador_serie">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>                    
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">                        
                        <fieldset>
                            <legend class="h3">
                                Datos Especificos de la Planta De Emergencia                                              
                            </legend>
                            <div class="row">
                                <div class="col-md-4">                                    
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Tipo de Servicio                                
                                        </label>
                                        <div class="col-md-8">
                                            <select class="form-control" ng-options="c.id as c.text for c in tipoServicio" ng-model="planta.tipoOperacion" name="tipoOperacion"></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            KW
                                        </label>
                                        <div class="col-md-8">
                                            <input type="number" class="form-control" required min="0" name="kw"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            KVA
                                        </label>
                                        <div class="col-md-8">
                                            <input type="number" class="form-control" required min="0" name="kva">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Corriente de operación
                                        </label>
                                        <div class="col-md-8">
                                            <input type="number" class="form-control" required min="0" name="capInt">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Tipo Control                                        
                                        </label>
                                        <div class="col-md-8">
                                            <select class="form-control" ng-options="c.id as c.text for c in tipoControl" ng-model="planta.controlId" name="tipoControl"></select>  
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Tipo Combustible                                        
                                        </label>
                                        <div class="col-md-8">
                                            <select class="form-control" ng-options="c.id as c.text for c in combustible" ng-model="tcombustible" name="tipoCombustible"></select>  
                                        </div>
                                    </div>                                  
                                </div>
                                <div class="col-md-4">                                    
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Cap. Interruptor                                        
                                        </label>
                                        <div class="col-md-8">
                                            <input type="number"  min="0" class="form-control" required ng-model="plata.capInterruptor" name="capInt">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Fases:                                        
                                        </label>
                                        <div class="col-md-8">
                                            <input type="number" min="1" max="3" class="form-control" required ng-model="planta" name="nofases">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4" >
                                            Voltaje:                                        
                                        </label>
                                        <div class="col-md-8">
                                            <input type="number" min="0" class="form-control" required ng-model="planta.voltajeOperacion" name="voltaje">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4">
                                            Frecuencia:                                       
                                        </label>
                                        <div class="col-md-8">
                                            <input type="number" min="0" class="form-control" required ng-model="planta.frecuenciaOperacion" name="frecuencia">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 text-right">
                        <button class="btn btn-primary" type="submit" ng-disabled="formPlanta.$invalid">
                            Guardar y Comenzar las Pruebas
                        </button>
                    </div>
                </div>
            </form>

        </div>
    </body>
</html>
